#summary Introduction to perlwikipedia -- read this first
#labels Phase-Deploy,Phase-Support,Featured

= Example code =

{{{

#!/usr/bin/perl
use strict;
use warnings;

# Include the MediaWiki::Bot methods in your script.
use MediaWiki::Bot;

# Username and password.
my $user = 'me';
my $pass = 'supersecretpassword';

#Create a Perlwikipedia object, and have it automatically log in and configure itself
my $bot = MediaWiki::Bot->new(
    useragent   => 'MediaWiki::Bot 3.0.0 (User:Mike.lifeguard)',
    assert      => 'bot',
    protocol    => 'https',
    host        => 'secure.wikimedia.org',
    path        => 'wikipedia/en/w',
    login_data  => { username => $user, password => $pass },
);

# Turn debugging on, to see what the bot is doing
$bot->{debug} = 1;

#Pull the wikitext of the Wikipedia Sandbox
my $article = "Wikipedia:Sandbox";
my $text = $bot->get_text($article);

# append something to the text
$text = $text . "Experimenting a little bit...\n";

my $edit_summary='A bot test';

# Whether to check the minor edit box.
# One has $is_minor == 1 for minor edits. This argument is optional.
my $is_minor = 0;

# Submit to Wikipedia.
# Note: This does not warn of edit conflicts, it just overwrites existing text.
$bot->edit({
    page    => $article,
    text    => $text,
    summary => $edit_summary,
    is_minor=> $is_minor,
});

# Take a break (frequent edits are forbidden per bot policy)
print "Sleep 5\n";
sleep 5;

}}}

Visit #perlwikipedia on irc.freenode.net for support.
